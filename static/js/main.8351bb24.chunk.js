(this.webpackJsonpshtodo=this.webpackJsonpshtodo||[]).push([[0],{62:function(e,t,n){e.exports=n(75)},67:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),r=n.n(c),s=n(16),i=n(100),l=n(113),u=n(114),d=n(115),m=n(121),p=(n(67),n(102)),f=n(118),h=n(119),g=n(103),b=n(104),E=n(25),O=n.n(E),j=(n(68),O.a.initializeApp({apiKey:"AIzaSyD-sc8QsW6KDlx-N1jZ5K8UjjyPnW1cnjY",authDomain:"shynntodo.firebaseapp.com",databaseURL:"https://shynntodo.firebaseio.com",projectId:"shynntodo",storageBucket:"shynntodo.appspot.com",messagingSenderId:"276417847313",appId:"1:276417847313:web:52f59975a832930eee51b0"}),O.a.firestore()),v=Object(i.a)((function(e){return{root:{padding:"10px 12px",display:"flex",alignItems:"center"},input:{fontSize:"20px",marginLeft:e.spacing(1),flex:1},iconButton:{padding:8}}})),y=function(e){var t=e.setOpen,n=e.setStatus,c=e.setCtn,r=Object(a.useState)(""),i=Object(s.a)(r,2),l=i[0],u=i[1],d=function(){if(l.length<4)return t(!0),n("error"),void c("Content must be at lease 4 characters!");j.collection("todos").add({content:l,done:!1,timestamp:O.a.firestore.FieldValue.serverTimestamp()}),u(""),t(!0),n("success"),c("Create ".concat(l," successfully!"))},m=v();return o.a.createElement(p.a,{component:"form",className:m.root},o.a.createElement(f.a,{className:m.input,placeholder:"What need to be done?",inputProps:{"aria-label":"what need to be done"},value:l,onChange:function(e){u(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),d())}}),o.a.createElement(h.a,{title:"Add a new TODO"},o.a.createElement(g.a,{className:m.iconButton,"aria-label":"add",onClick:function(e){e.preventDefault(),d()}},o.a.createElement(b.a,null))))},C=n(38),x=n(105),S=n(122),w=n(106),k=n(107),D=n(109),N=n(108),B=n(29),z=Object(a.createContext)(),F=function(e){var t=e.children,n=Object(a.useState)("all"),c=Object(s.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)([]),u=Object(s.a)(l,2),d=u[0],m=u[1];Object(a.useEffect)((function(){switch(r){case"all":return j.collection("todos").orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return Object(B.a)({id:e.id},e.data())})))}));case"unfinish":return j.collection("todos").where("done","==",!1).orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return Object(B.a)({id:e.id},e.data())})))}));case"finished":return j.collection("todos").where("done","==",!0).orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return Object(B.a)({id:e.id},e.data())})))}));default:return j.collection("todos").orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return Object(B.a)({id:e.id},e.data())})))}))}}),[r]);var p=Object(a.useState)(1),f=Object(s.a)(p,2),h=f[0],g=f[1],b=5*h,E=b-5,O=d.slice(E,b),v=Math.ceil(d.length/5);return o.a.createElement(z.Provider,{value:{todos:d,currentTodos:O,currPage:h,setcurrPage:g,size:v,filter:r,setFilter:i}},t)},I=Object(i.a)((function(e){return{root:{padding:e.spacing(0)},item:{padding:e.spacing(1),paddingLeft:e.spacing(3),fontSize:"18px"},done:{textDecoration:"line-through",color:"#777"}}})),P=function(e){var t=e.setOpen,n=e.setStatus,c=e.setCtn,r=Object(a.useContext)(z).currentTodos,s=I();return 0===r.length?o.a.createElement(C.a,{variant:"h4"},"Nothing todo here..."):o.a.createElement(p.a,null,o.a.createElement(x.a,{className:s.root},r&&r.map((function(e,a){return o.a.createElement(o.a.Fragment,{key:a},o.a.createElement(S.a,{button:!0,className:s.item,onClick:function(a){return function(e){j.collection("todos").doc(e.id).set({done:!e.done},{merge:!0}).then((function(){t(!0),n("success"),c("Changed ".concat(e.content," status to ").concat(e.done?"unfinished":"finished","!"))}))}(e)}},o.a.createElement(w.a,{className:e.done?s.done:null,primary:e.content,secondary:e.timestamp&&e.timestamp.toDate().toLocaleString()}),o.a.createElement(k.a,null,o.a.createElement(h.a,{title:"Delete ".concat(e.content)},o.a.createElement(g.a,{color:"secondary","aria-label":"delete",onClick:function(a){return function(e){j.collection("todos").doc(e.id).delete().then((function(){t(!0),n("success"),c("".concat(e.content," has been deleted!"))}))}(e)}},o.a.createElement(N.a,null))))),o.a.createElement(D.a,null))}))))},W=n(116),T=function(){var e=Object(a.useContext)(z),t=e.setcurrPage,n=e.size;return 0===n?null:o.a.createElement(W.a,{count:n,variant:"outlined",shape:"rounded",onChange:function(e,n){return t(n)}})},A=n(112),K=n(123),L=n(111),U=Object(i.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",padding:e.spacing(1)},text:{alignSelf:"center"}}})),H=function(e){var t=e.setOpen,n=e.setStatus,c=e.setCtn,r=U(),s=Object(a.useContext)(z),i=s.todos,l=s.filter,u=s.setFilter;return o.a.createElement(p.a,{className:r.root},o.a.createElement(C.a,{variant:"body2",color:"secondary",display:"block",align:"center",className:r.text},i.length," ",i.length>1?"items":"item"),o.a.createElement(K.a,{exclusive:!0,size:"small",value:l,onChange:function(e,a){u(a),t(!0),n("success"),c("Filtering ".concat(a," todo!"))}},o.a.createElement(L.a,{value:"all"},"All"),o.a.createElement(L.a,{value:"unfinish"},"Unfinish"),o.a.createElement(L.a,{value:"finished"},"Finished")),o.a.createElement(A.a,{variant:"contained",color:"secondary",size:"small"},"Clear all"))},J=n(117);function M(e){return o.a.createElement(J.a,Object.assign({elevation:6,variant:"filled"},e))}var Q=Object(i.a)((function(e){return{app:{marginTop:e.spacing(2),maxHeight:"100vh"}}})),R=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(s.a)(r,2),p=i[0],f=i[1],h=Object(a.useState)("success"),g=Object(s.a)(h,2),b=g[0],E=g[1],O=function(e,t){"clickaway"!==t&&c(!1)},j=Q();return o.a.createElement(l.a,{maxWidth:"sm",className:j.app},o.a.createElement(u.a,null),o.a.createElement(d.a,{container:!0,spacing:3},o.a.createElement(d.a,{item:!0,xs:12},o.a.createElement(y,{setOpen:c,setStatus:E,setCtn:f})),o.a.createElement(d.a,{item:!0,xs:12},o.a.createElement(P,{setOpen:c,setStatus:E,setCtn:f})),o.a.createElement(d.a,{item:!0,xs:12},o.a.createElement(H,{setOpen:c,setStatus:E,setCtn:f})),o.a.createElement(d.a,{item:!0,xs:12},o.a.createElement(T,null))),o.a.createElement(m.a,{open:n,autoHideDuration:3e3,onClose:O},o.a.createElement(M,{onClose:O,severity:b},p)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(F,null,o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.8351bb24.chunk.js.map